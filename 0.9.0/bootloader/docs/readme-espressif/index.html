<!-- Elements added to "main.html" will be displayed on all pages -->


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.owntech.org/0.9.0/bootloader/docs/readme-espressif/">
      
      
      
      
      <link rel="icon" href="../../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.33">
    
    
      
        <title>[Building and using MCUboot with Espressif's chips](#building-and-using-mcuboot-with-espressifs-chips) - OwnTech Documentation Center</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-WF7P4ZR5NF"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-WF7P4ZR5NF",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-WF7P4ZR5NF",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
    
    <!-- main.html | Added "navigation.instant" support -->
    <link rel="canonical" href=".">

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="grey">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#building-and-using-mcuboot-with-espressifs-chips" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="OwnTech Documentation Center" class="md-header__button md-logo" aria-label="OwnTech Documentation Center" data-md-component="logo">
      
  <img src="../../../images/OwnTech.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OwnTech Documentation Center
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              [Building and using MCUboot with Espressif's chips](#building-and-using-mcuboot-with-espressifs-chips)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="grey"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../core/docs/environment_setup/" class="md-tabs__link">
          
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../examples/docs/home/" class="md-tabs__link">
          
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../core/docs/powerAPI/" class="md-tabs__link">
          
  
  Power API

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../controlLibrary/docs/getting-started/" class="md-tabs__link">
          
  
  Control Library

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Matlab/docs/getting_started/" class="md-tabs__link">
          
  
  MATLAB

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../OwnModels/docs/getting_started/" class="md-tabs__link">
          
  
  OwnModels

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../OwnPlot/docs/" class="md-tabs__link">
          
  
  OwnPlot

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="OwnTech Documentation Center" class="md-nav__button md-logo" aria-label="OwnTech Documentation Center" data-md-component="logo">
      
  <img src="../../../images/OwnTech.png" alt="logo">

    </a>
    OwnTech Documentation Center
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Home
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../core/docs/environment_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Environment Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../core/docs/first_example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    First Example
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../core/docs/ownplot_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OwnPlot Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MATLAB
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            MATLAB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Matlab/docs/getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Matlab/docs/first_compilation_with_matlab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    First compilation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Matlab/docs/open_loop_buck/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Open loop
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Matlab/docs/closed_loop_buck/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Closed loop
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/docs/home/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SPIN
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            SPIN
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_1" >
        
          
          <label class="md-nav__link" for="__nav_3_2_1" id="__nav_3_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ADC
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_1">
            <span class="md-nav__icon md-icon"></span>
            ADC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/SPIN/ADC/adc_software_trigger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software triggered measurement
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/SPIN/ADC/adc_hrtim_trigger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Synchronous measurements
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DAC
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            DAC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/SPIN/DAC/signal_generation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Signal generation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
        
          
          <label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LED
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            LED
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/SPIN/LED/blinky/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blinky
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4" >
        
          
          <label class="md-nav__link" for="__nav_3_2_4" id="__nav_3_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PWM
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_4">
            <span class="md-nav__icon md-icon"></span>
            PWM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/SPIN/PWM/duty_cycle_setting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Duty cycle control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/SPIN/PWM/phase_shift/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Phase shift control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/SPIN/PWM/multiple_pwm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multiple PWM operation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_5" >
        
          
          <label class="md-nav__link" for="__nav_3_2_5" id="__nav_3_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Timer
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_5">
            <span class="md-nav__icon md-icon"></span>
            Timer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/SPIN/TIMER/incremental_encoder/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Incremental encoder
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    TWIST
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            TWIST
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_3_1" id="__nav_3_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DC DC topology examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_1">
            <span class="md-nav__icon md-icon"></span>
            DC DC topology examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/TWIST/DC_DC/buck_voltage_mode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Buck voltage mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/TWIST/DC_DC/buck_current_mode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Buck current mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/TWIST/DC_DC/boost_voltage_mode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Boost voltage mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/TWIST/DC_DC/interleaved/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interleaved Buck
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_3_2" id="__nav_3_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Microgrid examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_2">
            <span class="md-nav__icon md-icon"></span>
            Microgrid examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/TWIST/Microgrid/AC_client_server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AC client server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/TWIST/Microgrid/AC_peer_to_peer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AC peer to peer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/TWIST/Microgrid/DC_client_server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DC client server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/TWIST/Microgrid/DC_droop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DC droop
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3_3" id="__nav_3_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DC AC topology examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_3">
            <span class="md-nav__icon md-icon"></span>
            DC AC topology examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/TWIST/DC_AC/grid_forming/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Grid forming Inverter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../examples/TWIST/DC_AC/grid_following/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Grid following Inverter
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Power API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Power API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../core/docs/powerAPI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bootloader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    SPIN API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            SPIN API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../powerAPI/classSpinAPI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../core/docs/adc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../powerAPI/classCompHAL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    COMP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../core/docs/dac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DAC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../core/docs/gpio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GPIO
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../powerAPI/classLedHAL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LED
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../core/docs/pwm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PWM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../powerAPI/classTimerHAL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TIMER
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../powerAPI/classUartHAL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UART
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../powerAPI/classVersionHAL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VERSION
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../core/docs/twistAPI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TWIST API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../core/docs/dataAPI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../core/docs/scheduling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
        
          
          <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Communication API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            Communication API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../powerAPI/classCommunicationAPI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../powerAPI/classAnalogCommunication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Analog Communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../powerAPI/classRs485Communication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RS485
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../powerAPI/classCanCommunication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CAN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../powerAPI/classSyncCommunication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Real Time Sync
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../powerAPI/classsafety/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Safety API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Control Library
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Control Library
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/docs/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Controller
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Controller
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_1" >
        
          
          <label class="md-nav__link" for="__nav_5_2_1" id="__nav_5_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Generic Controller
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_1">
            <span class="md-nav__icon md-icon"></span>
            Generic Controller
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/docs/controller/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Principle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/classController/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PID
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            PID
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/docs/use-pid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/classPid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/structPidParams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameters API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_3" >
        
          
          <label class="md-nav__link" for="__nav_5_2_3" id="__nav_5_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Proportional Resonant (PR)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_3">
            <span class="md-nav__icon md-icon"></span>
            Proportional Resonant (PR)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/docs/use-pr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/classPr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/structPrParams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameters API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_4" >
        
          
          <label class="md-nav__link" for="__nav_5_2_4" id="__nav_5_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RST
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_4">
            <span class="md-nav__icon md-icon"></span>
            RST
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/docs/use-rst/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/classRST/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/structRstParams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameters API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Filters
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Filters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/docs/use-filters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3_2" >
        
          
          <label class="md-nav__link" for="__nav_5_3_2" id="__nav_5_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    1st order Low Pass Filter
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_2">
            <span class="md-nav__icon md-icon"></span>
            1st order Low Pass Filter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/docs/use-firstorder/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/classLowPassFirstOrderFilter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3_3" id="__nav_5_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Notch Filter
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_3">
            <span class="md-nav__icon md-icon"></span>
            Notch Filter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/docs/use-notchfilter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/classNotchFilter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3_4" >
        
          
          <label class="md-nav__link" for="__nav_5_3_4" id="__nav_5_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Phase Lock Loop (PLL)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_4">
            <span class="md-nav__icon md-icon"></span>
            Phase Lock Loop (PLL)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/docs/use-pll/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/classPllSinus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../controlLibrary/structPllDatas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PllDatas API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MATLAB
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            MATLAB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Matlab/docs/getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Matlab/docs/first_compilation_with_matlab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    First compilation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Matlab/docs/open_loop_buck/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Open loop
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Matlab/docs/closed_loop_buck/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Closed loop
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OwnModels
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            OwnModels
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OwnModels/docs/getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started with PLECS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OwnModels/docs/first_example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Open loop example
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OwnModels/docs/voltage_mode_simulation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Voltage mode example
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OwnPlot
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            OwnPlot
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OwnPlot/docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Manual
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            User Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OwnPlot/docs/user-manual/home/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2_2" id="__nav_8_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OwnPlot/docs/user-manual/setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OwnPlot/docs/user-manual/dev-board-demo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dev board demo code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OwnPlot/docs/user-manual/first-steps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    My First Port
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2_3" >
        
          
          <label class="md-nav__link" for="__nav_8_2_3" id="__nav_8_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Components
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2_3">
            <span class="md-nav__icon md-icon"></span>
            Components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OwnPlot/docs/user-manual/components/tabs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tabs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OwnPlot/docs/user-manual/components/terminal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terminal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OwnPlot/docs/user-manual/components/plotter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plotter
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OwnPlot/docs/user-manual/troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer Manual
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            Developer Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OwnPlot/docs/dev-manual/home/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Manual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../OwnPlot/docs/dev-manual/arch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#soc-support-availability" class="md-nav__link">
    <span class="md-ellipsis">
      SoC support availability
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-requirements-and-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Installing requirements and dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-the-bootloader-itself" class="md-nav__link">
    <span class="md-ellipsis">
      Building the bootloader itself
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#signing-and-flashing-an-application" class="md-nav__link">
    <span class="md-ellipsis">
      Signing and flashing an application
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="building-and-using-mcuboot-with-espressifs-chips"><a href="#building-and-using-mcuboot-with-espressifs-chips">Building and using MCUboot with Espressif's chips</a></h1>
<p>The MCUBoot Espressif's port depends on HAL (Hardware Abstraction Layer) sources based on ESP-IDF
or 3rd party frameworks as such as Zephyr-RTOS (<code>zephyrproject-rtos/hal_espressif/</code>) or NuttX RTOS
(<code>espressif/esp-hal-3rdparty</code>). Building the MCUboot Espressif's port and its features is platform
dependent, therefore, the system environment including toolchains, must be set accordingly. A
standalone build version means that ESP-IDF and its toolchain are used as source. For 3rd parties
framework, HAL path and toolchain must be set.</p>
<p>Documentation about the MCUboot bootloader design, operation and features can be found in the
<a href="../design/">design document</a>.</p>
<h2 id="soc-support-availability"><a href="#soc-support-availability">SoC support availability</a></h2>
<p>The current port is available for use in the following SoCs within the OSes:</p>
<table>
<thead>
<tr>
<th style="text-align: center;"></th>
<th style="text-align: center;">ESP32</th>
<th style="text-align: center;">ESP32-S2</th>
<th style="text-align: center;">ESP32-C3</th>
<th style="text-align: center;">ESP32-S3</th>
<th style="text-align: center;">ESP32-C2</th>
<th style="text-align: center;">ESP32-C6</th>
<th style="text-align: center;">ESP32-H2</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">Zephyr</td>
<td style="text-align: center;">Supported</td>
<td style="text-align: center;">Supported</td>
<td style="text-align: center;">Supported</td>
<td style="text-align: center;">Supported</td>
<td style="text-align: center;">In progress</td>
<td style="text-align: center;">In progress</td>
<td style="text-align: center;">In progress</td>
</tr>
<tr>
<td style="text-align: center;">NuttX</td>
<td style="text-align: center;">Supported</td>
<td style="text-align: center;">Supported</td>
<td style="text-align: center;">Supported</td>
<td style="text-align: center;">Supported</td>
<td style="text-align: center;">In progress</td>
<td style="text-align: center;">In progress</td>
<td style="text-align: center;">In progress</td>
</tr>
</tbody>
</table>
<p>Notice that any customization in the memory layout from the OS application must be done aware of
the bootloader own memory layout to avoid overlapping. More information on the section
<a href="#memory-map-organization-for-os-compatibility">Memory map organization for OS compatibility</a>.</p>
<h2 id="installing-requirements-and-dependencies"><a href="#installing-requirements-and-dependencies">Installing requirements and dependencies</a></h2>
<p>The following instructions considers a MCUboot Espressif port standalone build.</p>
<ol>
<li>
<p>Install additional packages required for development with MCUboot:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>~/mcuboot<span class="w">  </span><span class="c1"># or to your directory where MCUboot is cloned</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>pip3<span class="w"> </span>install<span class="w"> </span>--user<span class="w"> </span>-r<span class="w"> </span>scripts/requirements.txt
</code></pre></div>
</li>
<li>
<p>Update the Mbed TLS submodule required by MCUboot:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--init<span class="w"> </span>--recursive<span class="w"> </span>ext/mbedtls
</code></pre></div>
</li>
<li>
<p>If ESP-IDF is the chosen option for use as HAL layer and the system already have ESP-IDF
   installed, ensure that the environment is set:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>&lt;IDF_PATH&gt;/install.sh
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>.<span class="w"> </span>&lt;IDF_PATH&gt;/export.sh
</code></pre></div>
<hr />
<p><strong><em>Note</em></strong></p>
<p><em>If desirable, instructions for ESP-IDF installation can be found
<a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/get-started/index.html#manual-installation">here</a></em></p>
<hr />
<hr />
<p><strong><em>Note</em></strong></p>
<p><em>The other HALs mentioned above like <code>hal_espressif</code> from Zephyr RTOS or <code>esp-hal-3rdparty</code>
from NuttX RTOS environments also can be used for the bootloader standalone build, however as
eventually code revision may differ from what is currently expected, it is recommended using
them only within their RTOS build system.</em></p>
<hr />
</li>
<li>
<p>If ESP-IDF is not installed and will not be used, install <code>esptool</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>pip3<span class="w"> </span>install<span class="w"> </span>esptool
</code></pre></div>
</li>
</ol>
<h2 id="building-the-bootloader-itself"><a href="#building-the-bootloader-itself">Building the bootloader itself</a></h2>
<p>The MCUboot Espressif port bootloader is built using the toolchain and tools provided by Espressif.
Additional configuration related to MCUboot features and slot partitioning may be made using the
<code>port/&lt;TARGET&gt;/bootloader.conf</code> file or passing a custom config file using the
<code>-DMCUBOOT_CONFIG_FILE</code> argument on the first step below.</p>
<hr />
<p><strong><em>Note</em></strong></p>
<p><em>Replace <code>&lt;TARGET&gt;</code> with the target ESP32 family (like <code>esp32</code>, <code>esp32s2</code> and others).</em></p>
<hr />
<ol>
<li>
<p>Compile and generate the BIN:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>cmake<span class="w"> </span>-DCMAKE_TOOLCHAIN_FILE<span class="o">=</span>tools/toolchain-&lt;TARGET&gt;.cmake<span class="w"> </span>-DMCUBOOT_TARGET<span class="o">=</span>&lt;TARGET&gt;<span class="w"> </span>-DESP_HAL_PATH<span class="o">=</span>&lt;ESP_HAL_PATH&gt;<span class="w"> </span>-DMCUBOOT_FLASH_PORT<span class="o">=</span>&lt;PORT&gt;<span class="w"> </span>-B<span class="w"> </span>build<span class="w"> </span>-GNinja
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>ninja<span class="w"> </span>-C<span class="w"> </span>build/
</code></pre></div>
<hr />
<p><strong><em>Note</em></strong></p>
<p><em>If using ESP-IDF as HAL layer source, <code>ESP_HAL_PATH</code> can be ommited.</em></p>
<p><em>If desirable, <code>&lt;TOOLCHAIN_BIN_DIR&gt;</code> can be defined with the path for a different compatible
toolchain, however it is recommended to actually create a CMake toolchain file and
pass it through <code>&lt;CMAKE_TOOLCHAIN_FILE&gt;</code> variable since it may require a distinct set of
compilation flags.</em></p>
<hr />
</li>
<li>
<p>Flash MCUboot in your device:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>ninja<span class="w"> </span>-C<span class="w"> </span>build/<span class="w"> </span>flash
</code></pre></div>
<p>If <code>MCUBOOT_FLASH_PORT</code> arg was not passed to <code>cmake</code>, the default <code>PORT</code> for flashing will be
<code>/dev/ttyUSB0</code>.</p>
<p>Alternatively:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>esptool.py<span class="w"> </span>-p<span class="w"> </span>&lt;PORT&gt;<span class="w"> </span>-b<span class="w"> </span>&lt;BAUD&gt;<span class="w"> </span>--before<span class="w"> </span>default_reset<span class="w"> </span>--after<span class="w"> </span>no_reset<span class="w"> </span>--chip<span class="w"> </span>&lt;TARGET&gt;<span class="w"> </span>write_flash<span class="w"> </span>--flash_mode<span class="w"> </span>dio<span class="w"> </span>--flash_size<span class="w"> </span>&lt;FLASH_SIZE&gt;<span class="w"> </span>--flash_freq<span class="w"> </span>40m<span class="w"> </span>&lt;BOOTLOADER_FLASH_OFFSET&gt;<span class="w"> </span>build/mcuboot_&lt;TARGET&gt;.bin
</code></pre></div>
<hr />
<p><strong><em>Note</em></strong></p>
<p>You may adjust the port <code>&lt;PORT&gt;</code> (like <code>/dev/ttyUSB0</code>) and baud rate <code>&lt;BAUD&gt;</code> (like <code>2000000</code>)
according to the connection with your board. You can also skip <code>&lt;PORT&gt;</code> and <code>&lt;BAUD&gt;</code> parameters
so that esptool tries to automatically detect it.</p>
<p><em><code>&lt;FLASH_SIZE&gt;</code> can be found using the command below:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>esptool.py<span class="w"> </span>-p<span class="w"> </span>&lt;PORT&gt;<span class="w"> </span>-b<span class="w"> </span>&lt;BAUD&gt;<span class="w"> </span>flash_id
</code></pre></div>
<p>The output contains device information and its flash size:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>Detected flash size: 4MB
</code></pre></div>
<p><em><code>&lt;BOOTLOADER_FLASH_OFFSET&gt;</code> value must follow one of the addresses below:</em></p>
<table>
<thead>
<tr>
<th style="text-align: center;">ESP32</th>
<th style="text-align: center;">ESP32-S2</th>
<th style="text-align: center;">ESP32-C3</th>
<th style="text-align: center;">ESP32-S3</th>
<th style="text-align: center;">ESP32-C2</th>
<th style="text-align: center;">ESP32-C6</th>
<th style="text-align: center;">ESP32-H2</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">0x1000</td>
<td style="text-align: center;">0x1000</td>
<td style="text-align: center;">0x0000</td>
<td style="text-align: center;">0x0000</td>
<td style="text-align: center;">0x0000</td>
<td style="text-align: center;">0x0000</td>
<td style="text-align: center;">0x0000</td>
</tr>
</tbody>
</table>
<hr />
</li>
<li>
<p>Reset your device</p>
</li>
</ol>
<h2 id="signing-and-flashing-an-application"><a href="#signing-and-flashing-an-application">Signing and flashing an application</a></h2>
<ol>
<li>
<p>Images can be regularly signed with the <code>scripts/imgtool.py</code> script:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>imgtool.py<span class="w"> </span>sign<span class="w"> </span>--align<span class="w"> </span><span class="m">4</span><span class="w"> </span>-v<span class="w"> </span><span class="m">0</span><span class="w"> </span>-H<span class="w"> </span><span class="m">32</span><span class="w"> </span>--pad-header<span class="w"> </span>-S<span class="w"> </span>&lt;SLOT_SIZE&gt;<span class="w"> </span>&lt;BIN_IN&gt;<span class="w"> </span>&lt;SIGNED_BIN&gt;
</code></pre></div>
<hr />
<p><strong><em>Note</em></strong></p>
<p><code>&lt;SLOT_SIZE&gt;</code> is the size of the slot to be used.
Default slot0 size is <code>0x100000</code>, but it can change as per application flash partitions.</p>
<p>For Zephyr images, <code>--pad-header</code> is not needed as it already has the padding for MCUboot
header.</p>
<hr />
<p><img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> <strong><em>ATTENTION</em></strong></p>
<p><em>This is the basic signing needed for adding MCUboot headers and trailers.
For signing with a crypto key and guarantee the authenticity of the image being booted, see the
section <a href="#mcuboot-image-signature-verification">MCUboot image signature verification</a> below.</em></p>
<hr />
</li>
<li>
<p>Flash the signed application:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>esptool.py<span class="w"> </span>-p<span class="w"> </span>&lt;PORT&gt;<span class="w"> </span>-b<span class="w"> </span>&lt;BAUD&gt;<span class="w"> </span>--before<span class="w"> </span>default_reset<span class="w"> </span>--after<span class="w"> </span>hard_reset<span class="w"> </span>--chip<span class="w"> </span>&lt;TARGET&gt;<span class="w">  </span>write_flash<span class="w"> </span>--flash_mode<span class="w"> </span>dio<span class="w"> </span>--flash_size<span class="w"> </span>&lt;FLASH_SIZE&gt;<span class="w"> </span>--flash_freq<span class="w"> </span>40m<span class="w"> </span>&lt;SLOT_OFFSET&gt;<span class="w"> </span>&lt;SIGNED_BIN&gt;
</code></pre></div>
</li>
</ol>
<h1 id="downgrade-prevention"><a href="#downgrade-prevention">Downgrade prevention</a></h1>
<p>Downgrade prevention (avoid updating of images to an older version) can be enabled using the
following configuration:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>CONFIG_ESP_DOWNGRADE_PREVENTION=y
</code></pre></div>
<p>MCUboot will then verify and compare the new image version number with the current one before
perform an update swap.</p>
<p>Version number is added to the image when signing it with <code>imgtool</code> (<code>-v</code> parameter, e.g.
<code>-v 1.0.0</code>).</p>
<h3 id="downgrade-prevention-with-security-counter"><a href="#downgrade-prevention-with-security-counter">Downgrade prevention with security counter</a></h3>
<p>It is also possible to rely on a security counter, also added to the image when signing with
<code>imgtool</code> (<code>-s</code> parameter), apart from version number. This allows image downgrade at some extent,
since any update must have greater or equal security counter value. Enable using the following
configuration:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>CONFIG_ESP_DOWNGRADE_PREVENTION_SECURITY_COUNTER=y
</code></pre></div>
<p>E.g.: if the current image was signed using <code>-s 1</code> parameter, an eventual update image must have
been signed using security counter <code>-s 1</code> or greater.</p>
<h1 id="security-chain-on-espressif-port"><a href="#security-chain-on-espressif-port">Security Chain on Espressif port</a></h1>
<p><a href="../encrypted_images/">MCUboot encrypted images</a> do not provide full code confidentiality when only
external storage is available (see <a href="../encrypted_images/#threat-model">Threat model</a>) since by
MCUboot design the image in Primary Slot, from where the image is executed, is stored plaintext.
Espressif chips have off-chip flash memory, so to ensure a security chain along with MCUboot image
signature verification, the hardware-assisted Secure Boot and Flash Encryption were made available
on the MCUboot Espressif port.</p>
<h2 id="mcuboot-image-signature-verification"><a href="#mcuboot-image-signature-verification">MCUboot image signature verification</a></h2>
<p>The image that MCUboot is booting can be signed with 4 types of keys: RSA-2048, RSA-3072, EC256 and
ED25519. In order to enable the feature, the <strong>bootloader</strong> must be compiled with the following
configurations:</p>
<hr />
<p><strong><em>Note</em></strong></p>
<p><em>It is strongly recommended to generate a new signing key using <code>imgtool</code> instead of use the
existent samples.</em></p>
<hr />
<h4 id="for-ec256-algorithm-use">For EC256 algorithm use</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>CONFIG_ESP_SIGN_EC256=y
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a># Use Tinycrypt lib for EC256 or ED25519 signing
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>CONFIG_ESP_USE_TINYCRYPT=y
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>CONFIG_ESP_SIGN_KEY_FILE=&lt;YOUR_SIGNING_KEY.pem&gt;
</code></pre></div>
<h4 id="for-ed25519-algorithm-use">For ED25519 algorithm use</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>CONFIG_ESP_SIGN_ED25519=y
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a># Use Tinycrypt lib for EC256 or ED25519 signing
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>CONFIG_ESP_USE_TINYCRYPT=y
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>CONFIG_ESP_SIGN_KEY_FILE=&lt;YOUR_SIGNING_KEY.pem&gt;
</code></pre></div>
<h4 id="for-rsa-2048-or-3072-algorithm-use">For RSA (2048 or 3072) algorithm use</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>CONFIG_ESP_SIGN_RSA=y
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a># RSA_LEN is 2048 or 3072
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>CONFIG_ESP_SIGN_RSA_LEN=&lt;RSA_LEN&gt;
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a># Use Mbed TLS lib for RSA image signing
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>CONFIG_ESP_USE_MBEDTLS=y
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>CONFIG_ESP_SIGN_KEY_FILE=&lt;YOUR_SIGNING_KEY.pem&gt;
</code></pre></div>
<p>Notice that the public key will be embedded in the bootloader code, since the hardware key storage
is not supported by Espressif port.</p>
<h3 id="signing-the-image"><a href="#signing-the-image">Signing the image</a></h3>
<p>Now you need to sign the <strong>image binary</strong>, use the <code>imgtool</code> with <code>-k</code> parameter:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>imgtool.py<span class="w"> </span>sign<span class="w"> </span>-k<span class="w"> </span>&lt;YOUR_SIGNING_KEY.pem&gt;<span class="w"> </span>--pad<span class="w"> </span>--pad-sig<span class="w"> </span>--align<span class="w"> </span><span class="m">4</span><span class="w"> </span>-v<span class="w"> </span><span class="m">0</span><span class="w"> </span>-H<span class="w"> </span><span class="m">32</span><span class="w"> </span>--pad-header<span class="w"> </span>-S<span class="w"> </span>0x00100000<span class="w"> </span>&lt;BIN_IN&gt;<span class="w"> </span>&lt;BIN_OUT&gt;
</code></pre></div>
<p>If signing a Zephyr image, the <code>--pad-header</code> is not needed, as it already have the padding for
MCUboot header.</p>
<h2 id="secure-boot"><a href="#secure-boot">Secure Boot</a></h2>
<p>The Secure Boot implementation is based on
<a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/security/secure-boot-v2.html">IDF's Secure Boot V2</a>,
is hardware-assisted and RSA based - except ESP32-C2 that uses ECDSA signing scheme - and has the
role for ensuring that only authorized code will be executed on the device. This is done through
bootloader signature checking by the ROM bootloader.</p>
<p><strong><em>Note</em></strong>: ROM bootloader is the First Stage Bootloader, while the Espressif MCUboot port is the
Second Stage Bootloader.</p>
<h3 id="building-bootloader-with-secure-boot"><a href="#building-bootloader-with-secure-boot">Building bootloader with Secure Boot</a></h3>
<p>In order to build the bootloader with the feature on, the following configurations must be enabled:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>CONFIG_SECURE_BOOT=1
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>CONFIG_SECURE_BOOT_V2_ENABLED=1
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>CONFIG_SECURE_SIGNED_ON_BOOT=1
</code></pre></div>
<p>For the currently supported chips, with exception of ESP32-C2, enable RSA signing scheme:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>CONFIG_SECURE_SIGNED_APPS_RSA_SCHEME=1
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>CONFIG_SECURE_BOOT_SUPPORTS_RSA=1
</code></pre></div>
<p>For ESP32-C2, enable ECDSA signing scheme and, if working with Flash Encryption too, enable the
configuration to burn keys to efuse together:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>CONFIG_SECURE_SIGNED_APPS_ECDSA_V2_SCHEME=1
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>CONFIG_SECURE_BOOT_FLASH_ENC_KEYS_BURN_TOGETHER=1
</code></pre></div>
<hr />
<p><img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> <strong><em>ATTENTION</em></strong></p>
<p><em>On development phase is recommended add the following configuration in order to keep the debugging
enabled and also to avoid any unrecoverable/permanent state change:</em></p>
<h2 id="config_secure_boot_allow_jtag1-config_secure_flash_uart_bootloader_allow_cache1-options-for-enabling-efuse-emulation-in-flash-config_efuse_virtual1-config_efuse_virtual_keep_in_flash1"><div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>CONFIG_SECURE_BOOT_ALLOW_JTAG=1
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>CONFIG_SECURE_FLASH_UART_BOOTLOADER_ALLOW_CACHE=1
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a># Options for enabling eFuse emulation in Flash
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>CONFIG_EFUSE_VIRTUAL=1
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>CONFIG_EFUSE_VIRTUAL_KEEP_IN_FLASH=1
</code></pre></div></h2>
<hr />
<p><img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> <strong><em>ATTENTION</em></strong></p>
<p><em>You can disable UART Download Mode by adding the following configuration:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>CONFIG_SECURE_DISABLE_ROM_DL_MODE=1
</code></pre></div>
<p><em>This may be suitable for <strong>production</strong> builds. <strong>After disabling UART Download Mode you will not
be able to flash other images through UART.</strong></em></p>
<p><em>Otherwise, you can switch the UART ROM Download Mode to the Secure Download Mode. It will limit
the use of Download Mode functions to simple flash read, write and erase operations.</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>CONFIG_SECURE_ENABLE_SECURE_ROM_DL_MODE=1
</code></pre></div>
<p><em>Once the device makes its first full boot, these configurations cannot be reverted</em></p>
<hr />
<p>Once the <strong>bootloader image</strong> is built, the resulting binary file is required to be signed with
<code>espsecure.py</code> tool.</p>
<p>First create a signing key:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>espsecure.py<span class="w"> </span>generate_signing_key<span class="w"> </span>--version<span class="w"> </span><span class="m">2</span><span class="w"> </span>&lt;BOOTLOADER_SIGNING_KEY.pem&gt;
</code></pre></div>
<p>Then sign the bootloader image:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>espsecure.py<span class="w"> </span>sign_data<span class="w"> </span>--version<span class="w"> </span><span class="m">2</span><span class="w"> </span>--keyfile<span class="w"> </span>&lt;BOOTLOADER_SIGNING_KEY.pem&gt;<span class="w"> </span>-o<span class="w"> </span>&lt;BOOTLOADER_BIN_OUT&gt;<span class="w"> </span>&lt;BOOTLOADER_BIN_IN&gt;
</code></pre></div>
<hr />
<p><img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> <strong><em>ATTENTION</em></strong></p>
<p><em>Once the bootloader is flashed and the device resets, the </em><em>first boot will enable Secure Boot</em><em>
and the bootloader and key </em><em>no longer can be modified</em><em>. So </em><em>ENSURE</em><em> that both bootloader and
key are correct and you did not forget anything before flashing.</em></p>
<hr />
<p>Flash the bootloader as following, with <code>--after no_reset</code> flag, so you can reset the device only
when assured:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>esptool.py<span class="w"> </span>-p<span class="w"> </span>&lt;PORT&gt;<span class="w"> </span>-b<span class="w"> </span><span class="m">2000000</span><span class="w"> </span>--after<span class="w"> </span>no_reset<span class="w"> </span>--chip<span class="w"> </span>&lt;ESP_CHIP&gt;<span class="w"> </span>write_flash<span class="w"> </span>--flash_mode<span class="w"> </span>dio<span class="w"> </span>--flash_size<span class="w"> </span>&lt;FLASH_SIZE&gt;<span class="w"> </span>--flash_freq<span class="w"> </span>40m<span class="w"> </span>&lt;BOOTLOADER_FLASH_OFFSET&gt;<span class="w"> </span>&lt;SIGNED_BOOTLOADER_BIN&gt;
</code></pre></div>
<h3 id="secure-boot-process"><a href="#secure-boot-process">Secure Boot Process</a></h3>
<p>Secure boot uses a signature block appended to the bootloader image in order to verify the
authenticity. The signature block contains the RSA-3072 signature of that image and the RSA-3072
public key.</p>
<p>On its <strong>first boot</strong> the Secure Boot is not enabled on the device eFuses yet, neither the key nor
digests. So the first boot will have the following process:</p>
<ol>
<li>On startup, since it is the first boot, the ROM bootloader will not verify the bootloader image
   (the Secure Boot bit in the eFuse is disabled) yet, so it proceeds to execute it (our MCUboot
   bootloader port).</li>
<li>Bootloader calculates the SHA-256 hash digest of the public key and writes the result to eFuse.</li>
<li>Bootloader validates the application images and prepare the booting process (MCUboot phase).</li>
<li>Bootloader burns eFuse to enable Secure Boot V2.</li>
<li>Bootloader proceeds to load the Primary image.</li>
</ol>
<p>After that the Secure Boot feature is permanently enabled and on every next boot the ROM bootloader
will verify the MCUboot bootloader image. The process of an usual boot:</p>
<ol>
<li>On startup, the ROM bootloader checks the Secure Boot enable bit in the eFuse. If it is enabled,
   the boot will proceed as following.</li>
<li>ROM bootloader verifies the bootloader's signature block integrity (magic number and CRC).
   Interrupt boot if it fails.</li>
<li>ROM bootloader verifies the bootloader image, interrupt boot if any step fails:<ol>
<li>Compare the SHA-256 hash digest of the public key embedded in the bootloader’s signature
   block with the digest saved in the eFuses.</li>
<li>Generate the application image digest and match it with the image digest in the signature
   block.</li>
<li>Use the public key to verify the signature of the bootloader image, using RSA-PSS with the
   image digest calculated from previous step for comparison.</li>
</ol>
</li>
<li>ROM bootloader executes the bootloader image.</li>
<li>Bootloader does the usual verification (MCUboot phase).</li>
<li>Proceeds to boot the Primary image.</li>
</ol>
<h2 id="flash-encryption"><a href="#flash-encryption">Flash Encryption</a></h2>
<p>The Espressif Flash Encryption is hardware-assisted, transparent to the MCUboot process and is an
additional security measure beyond MCUboot existent features.
The Flash Encryption implementation is also based on
<a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/security/flash-encryption.html">IDF</a>
and is intended for encrypting off-chip flash memory contents, so it is protected against physical
reading.</p>
<p>When enabling the Flash Encryption, the user can encrypt the content either using a <strong>device
generated key</strong> (remains unknown and unreadable) or a <strong>host generated key</strong> (owner is responsible
for keeping the key private and safe). After the flash encryption gets enabled through eFuse
burning on the device, all read and write operations are decrypted/encrypted in runtime.</p>
<h3 id="building-bootloader-with-flash-encryption"><a href="#building-bootloader-with-flash-encryption">Building bootloader with Flash Encryption</a></h3>
<p>In order to build the bootloader with the feature on, the following configurations must be enabled:</p>
<p>For <strong>release mode</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>CONFIG_SECURE_FLASH_ENC_ENABLED=1
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>CONFIG_SECURE_FLASH_ENCRYPTION_MODE_RELEASE=1
</code></pre></div>
<p>For <strong>development mode</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>CONFIG_SECURE_FLASH_ENC_ENABLED=1
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>CONFIG_SECURE_FLASH_ENCRYPTION_MODE_DEVELOPMENT=1
</code></pre></div>
<hr />
<p><img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> <strong><em>ATTENTION</em></strong></p>
<p><em>On development phase is strongly recommended adding the following configuration in order to keep
the debugging enabled and also to avoid any unrecoverable/permanent state change:</em></p>
<h2 id="config_secure_flash_uart_bootloader_allow_enc1-config_secure_flash_uart_bootloader_allow_dec1-config_secure_flash_uart_bootloader_allow_cache1-config_secure_boot_allow_jtag1-options-for-enabling-efuse-emulation-in-flash-config_efuse_virtual1-config_efuse_virtual_keep_in_flash1"><div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>CONFIG_SECURE_FLASH_UART_BOOTLOADER_ALLOW_ENC=1
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>CONFIG_SECURE_FLASH_UART_BOOTLOADER_ALLOW_DEC=1
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>CONFIG_SECURE_FLASH_UART_BOOTLOADER_ALLOW_CACHE=1
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>CONFIG_SECURE_BOOT_ALLOW_JTAG=1
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a># Options for enabling eFuse emulation in Flash
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a>CONFIG_EFUSE_VIRTUAL=1
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a>CONFIG_EFUSE_VIRTUAL_KEEP_IN_FLASH=1
</code></pre></div></h2>
<hr />
<p><img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> <strong><em>ATTENTION</em></strong></p>
<p><em>Unless the recommended flags for <strong>DEVELOPMENT MODE</strong> were enabled, the actions made by Flash
Encryption process are <strong>PERMANENT</strong>.</em> \
<em>Once the bootloader is flashed and the device resets, the <strong>first boot will enable Flash
Encryption, encrypt the flash content including bootloader and image slots, burn the eFuses that no
longer can be modified</strong> and if device generated the key <strong>it will not be recoverable</strong>.</em> \
<em>When on <strong>RELEASE MODE</strong>, <strong>ENSURE</strong> that the application with an update agent is flashed before
reset the device.</em></p>
<p><em>In the same way as Secure Boot feature, you can disable UART Download Mode by adding the following
configuration:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>CONFIG_SECURE_DISABLE_ROM_DL_MODE=1
</code></pre></div>
<p><em>This may be suitable for <strong>production</strong> builds. <strong>After disabling UART Download Mode you will not
be able to flash other images through UART.</strong></em></p>
<p><em>Otherwise, you can switch the UART Download Mode to the Secure Download Mode. It will limit the
use of Download Mode functions to simple flash read, write and erase operations.</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>CONFIG_SECURE_ENABLE_SECURE_ROM_DL_MODE=1
</code></pre></div>
<p><em>These configurations cannot be reverted after the device's first boot</em></p>
<hr />
<h3 id="signing-the-image-when-working-with-flash-encryption"><a href="#signing-the-image-when-working-with-flash-encryption">Signing the image when working with Flash Encryption</a></h3>
<p>When enabling flash encryption, it is required to signed the image using 32-byte alignment:
<code>--align 32 --max-align 32</code>.</p>
<p>Command example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>imgtool.py<span class="w"> </span>sign<span class="w"> </span>-k<span class="w"> </span>&lt;YOUR_SIGNING_KEY.pem&gt;<span class="w"> </span>--pad<span class="w"> </span>--pad-sig<span class="w"> </span>--align<span class="w"> </span><span class="m">32</span><span class="w"> </span>--max-align<span class="w"> </span><span class="m">32</span><span class="w"> </span>-v<span class="w"> </span><span class="m">0</span><span class="w"> </span>-H<span class="w"> </span><span class="m">32</span><span class="w"> </span>--pad-header<span class="w"> </span>-S<span class="w"> </span>&lt;SLOT_SIZE&gt;<span class="w"> </span>&lt;BIN_IN&gt;<span class="w"> </span>&lt;BIN_OUT&gt;
</code></pre></div>
<h3 id="device-generated-key"><a href="#device-generated-key">Device generated key</a></h3>
<p>First ensure that the application image is able to perform encrypted read and write operations to
the SPI Flash. Flash the bootloader and application normally:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>esptool.py<span class="w"> </span>-p<span class="w"> </span>&lt;PORT&gt;<span class="w"> </span>-b<span class="w"> </span><span class="m">2000000</span><span class="w"> </span>--after<span class="w"> </span>no_reset<span class="w"> </span>--chip<span class="w"> </span>&lt;ESP_CHIP&gt;<span class="w"> </span>write_flash<span class="w"> </span>--flash_mode<span class="w"> </span>dio<span class="w"> </span>--flash_size<span class="w"> </span>&lt;FLASH_SIZE&gt;<span class="w"> </span>--flash_freq<span class="w"> </span>40m<span class="w"> </span>&lt;BOOTLOADER_FLASH_OFFSET&gt;<span class="w"> </span>&lt;BOOTLOADER_BIN&gt;
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>esptool.py<span class="w"> </span>-p<span class="w"> </span>&lt;PORT&gt;<span class="w"> </span>-b<span class="w"> </span><span class="m">2000000</span><span class="w"> </span>--after<span class="w"> </span>no_reset<span class="w"> </span>--chip<span class="w"> </span>&lt;ESP_CHIP&gt;<span class="w"> </span>write_flash<span class="w"> </span>--flash_mode<span class="w"> </span>dio<span class="w"> </span>--flash_size<span class="w"> </span>&lt;FLASH_SIZE&gt;<span class="w"> </span>--flash_freq<span class="w"> </span>40m<span class="w"> </span>&lt;PRIMARY_SLOT_FLASH_OFFSET&gt;<span class="w"> </span>&lt;APPLICATION_BIN&gt;
</code></pre></div>
<p>On the <strong>first boot</strong>, the bootloader will:</p>
<ol>
<li>Generate Flash Encryption key and write to eFuse.</li>
<li>Encrypt flash in-place including bootloader, image primary/secondary slot and scratch.</li>
<li>Burn eFuse to enable Flash Encryption.</li>
<li>Reset system to ensure Flash Encryption cache resets properly.</li>
</ol>
<h3 id="host-generated-key"><a href="#host-generated-key">Host generated key</a></h3>
<p>First ensure that the application image is able to perform encrypted read and write operations to
the SPI Flash. Also ensure that the <strong>UART ROM Download Mode is not disabled</strong> - or that the
<strong>Secure Download Mode is enabled</strong>. Before flashing, generate the encryption key using
<code>espsecure.py</code> tool:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>espsecure.py<span class="w"> </span>generate_flash_encryption_key<span class="w"> </span>&lt;FLASH_ENCRYPTION_KEY.bin&gt;
</code></pre></div>
<p>Burn the key into the device's eFuse (keep a copy on the host), this action can be done <strong>only
once</strong>:</p>
<hr />
<p><img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> <strong><em>ATTENTION</em></strong></p>
<p><em>eFuse emulation in Flash configuration options do not have any effect, so if the key burning
command below is used, it will actually burn the physical eFuse.</em></p>
<hr />
<ul>
<li>ESP32</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>espefuse.py<span class="w"> </span>--port<span class="w"> </span>PORT<span class="w"> </span>burn_key<span class="w"> </span>flash_encryption<span class="w"> </span>&lt;FLASH_ENCRYPTION_KEY.bin&gt;
</code></pre></div>
<ul>
<li>ESP32S2, ESP32C3 and ESP32S3</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>espefuse.py<span class="w"> </span>--port<span class="w"> </span>PORT<span class="w"> </span>burn_key<span class="w"> </span>BLOCK<span class="w"> </span>&lt;FLASH_ENCRYPTION_KEY.bin&gt;<span class="w"> </span>&lt;KEYPURPOSE&gt;
</code></pre></div>
<p><code>BLOCK</code> is a free keyblock between <code>BLOCK_KEY0</code> and <code>BLOCK_KEY5</code>. And <code>KEYPURPOSE</code> is either
<code>XTS_AES_128_KEY</code>, <code>XTS_AES_256_KEY_1</code>, <code>XTS_AES_256_KEY_2</code> (AES XTS 256 is available only in
ESP32S2).</p>
<p>Now, similar as the Device generated key, the bootloader and application can be flashed plaintext.
The <strong>first boot</strong> will encrypt the flash content using the host key burned in the eFuse instead
of generate a new one.</p>
<p>Flashing the bootloader and application:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>esptool.py<span class="w"> </span>-p<span class="w"> </span>&lt;PORT&gt;<span class="w"> </span>-b<span class="w"> </span><span class="m">2000000</span><span class="w"> </span>--after<span class="w"> </span>no_reset<span class="w"> </span>--chip<span class="w"> </span>&lt;ESP_CHIP&gt;<span class="w"> </span>write_flash<span class="w"> </span>--flash_mode<span class="w"> </span>dio<span class="w"> </span>--flash_size<span class="w"> </span>&lt;FLASH_SIZE&gt;<span class="w"> </span>--flash_freq<span class="w"> </span>40m<span class="w"> </span>&lt;BOOTLOADER_FLASH_OFFSET&gt;<span class="w"> </span>&lt;BOOTLOADER_BIN&gt;
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>esptool.py<span class="w"> </span>-p<span class="w"> </span>&lt;PORT&gt;<span class="w"> </span>-b<span class="w"> </span><span class="m">2000000</span><span class="w"> </span>--after<span class="w"> </span>no_reset<span class="w"> </span>--chip<span class="w"> </span>&lt;ESP_CHIP&gt;<span class="w"> </span>write_flash<span class="w"> </span>--flash_mode<span class="w"> </span>dio<span class="w"> </span>--flash_size<span class="w"> </span>&lt;FLASH_SIZE&gt;<span class="w"> </span>--flash_freq<span class="w"> </span>40m<span class="w"> </span>&lt;PRIMARY_SLOT_FLASH_OFFSET&gt;<span class="w"> </span>&lt;APPLICATION_BIN&gt;
</code></pre></div>
<p>On the <strong>first boot</strong>, the bootloader will:</p>
<ol>
<li>Encrypt flash in-place including bootloader, image primary/secondary slot and scratch using the
   written key.</li>
<li>Burn eFuse to enable Flash Encryption.</li>
<li>Reset system to ensure Flash Encryption cache resets properly.</li>
</ol>
<p>Encrypting data on the host:</p>
<ul>
<li>ESP32</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>espsecure.py<span class="w"> </span>encrypt_flash_data<span class="w"> </span>--keyfile<span class="w"> </span>&lt;FLASH_ENCRYPTION_KEY.bin&gt;<span class="w"> </span>--address<span class="w"> </span>&lt;FLASH_OFFSET&gt;<span class="w"> </span>--output<span class="w"> </span>&lt;OUTPUT_DATA&gt;<span class="w"> </span>&lt;INPUT_DATA&gt;
</code></pre></div>
<ul>
<li>ESP32-S2, ESP32-C3 and ESP32-S3</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>espsecure.py<span class="w"> </span>encrypt_flash_data<span class="w"> </span>--aes_xts<span class="w"> </span>--keyfile<span class="w"> </span>&lt;FLASH_ENCRYPTION_KEY.bin&gt;<span class="w"> </span>--address<span class="w"> </span>&lt;FLASH_OFFSET&gt;<span class="w"> </span>--output<span class="w"> </span>&lt;OUTPUT_DATA&gt;<span class="w"> </span>&lt;INPUT_DATA&gt;
</code></pre></div>
<hr />
<p><strong><em>Note</em></strong></p>
<p>OTA updates are required to be sent plaintext. The reason is that, as said before, after the Flash
Encryption is enabled all read/write operations are decrypted/encrypted in runtime, so as e.g. if
pre-encrypted data is sent for an OTA update, it would be wrongly double-encrypted when the update
agent writes to the flash.</p>
<p>For updating with an image encrypted on the host, flash it through serial using <code>esptool.py</code> as
above. <strong>UART ROM Download Mode must not be disabled</strong>.</p>
<hr />
<h2 id="security-chain-scheme"><a href="#security-chain-scheme">Security Chain scheme</a></h2>
<p>Using the 3 features, Secure Boot, Image signature verification and Flash Encryption, a Security
Chain can be established so only trusted code is executed, and also the code and content residing
in the off-chip flash are protected against undesirable reading.</p>
<p>The overall final process when all features are enabled:</p>
<ol>
<li>ROM bootloader validates the MCUboot bootloader using RSA signature verification.</li>
<li>MCUboot bootloader validates the image using the chosen algorithm EC256/RSA/ED25519. It also
   validates an upcoming image when updating.</li>
<li>Flash Encryption guarantees that code and data are not exposed.</li>
</ol>
<h3 id="size-limitation"><a href="#size-limitation">Size Limitation</a></h3>
<p>When all 3 features are enable at same time, the bootloader size may exceed the fixed limit for
the ROM bootloader checking on the Espressif chips <strong>depending on which algorithm</strong> was chosen for
MCUboot image signing. The issue <a href="https://github.com/mcu-tools/mcuboot/issues/1262">https://github.com/mcu-tools/mcuboot/issues/1262</a> was created to
track this limitation.</p>
<h2 id="multi-image"><a href="#multi-image">Multi image</a></h2>
<p>The multi image feature (currently limited to 2 images) allows the images to be updated separately
(each one has its own primary and secondary slot) by MCUboot.</p>
<p>The Espressif port bootloader handles the boot in two different approaches:</p>
<h3 id="host-os-boots-second-image"><a href="#host-os-boots-second-image">Host OS boots second image</a></h3>
<p>Host OS from the <em>first image</em> is responsible for booting the <em>second image</em>, therefore the
bootloader is aware of the second image regions and can update it, however it does not load
neither boots it.</p>
<p>Configuration example (<code>bootloader.conf</code>):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>CONFIG_ESP_BOOTLOADER_SIZE=0xF000
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>CONFIG_ESP_MCUBOOT_WDT_ENABLE=y
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a># Enables multi image, if it is not defined, its assumed
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a># only one updatable image
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>CONFIG_ESP_IMAGE_NUMBER=2
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a>
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a># Example of values to be used when multi image is enabled
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a># Notice that the OS layer and update agent must be aware
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a># of these regions
<a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a>CONFIG_ESP_APPLICATION_SIZE=0x50000
<a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a>CONFIG_ESP_IMAGE0_PRIMARY_START_ADDRESS=0x10000
<a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a>CONFIG_ESP_IMAGE0_SECONDARY_START_ADDRESS=0x60000
<a id="__codelineno-44-14" name="__codelineno-44-14" href="#__codelineno-44-14"></a>CONFIG_ESP_IMAGE1_PRIMARY_START_ADDRESS=0xB0000
<a id="__codelineno-44-15" name="__codelineno-44-15" href="#__codelineno-44-15"></a>CONFIG_ESP_IMAGE1_SECONDARY_START_ADDRESS=0x100000
<a id="__codelineno-44-16" name="__codelineno-44-16" href="#__codelineno-44-16"></a>CONFIG_ESP_SCRATCH_OFFSET=0x150000
<a id="__codelineno-44-17" name="__codelineno-44-17" href="#__codelineno-44-17"></a>CONFIG_ESP_SCRATCH_SIZE=0x40000
</code></pre></div>
<h3 id="multi-boot"><a href="#multi-boot">Multi boot</a></h3>
<p>In the multi boot approach the bootloader is responsible for booting two different images in two
different CPUs, firstly the <em>second image</em> on the APP CPU and then the <em>first image</em> on the PRO
CPU (current CPU), it is also responsible for update both images as well. Thus multi boot will be
only supported by Espressif multi core chips - currently only ESP32 is implemented.</p>
<hr />
<p><strong><em>Note</em></strong></p>
<p><em>The host OSes in each CPU must handle how the resources are divided/controlled between then.</em></p>
<hr />
<p>Configuration example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>CONFIG_ESP_BOOTLOADER_SIZE=0xF000
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>CONFIG_ESP_MCUBOOT_WDT_ENABLE=y
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a># Enables multi image, if it is not defined, its assumed
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a># only one updatable image
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a>CONFIG_ESP_IMAGE_NUMBER=2
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a>
<a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a># Enables multi image boot on independent processors
<a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a># (main host OS is not responsible for booting the second image)
<a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a># Use only with CONFIG_ESP_IMAGE_NUMBER=2
<a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a>CONFIG_ESP_MULTI_PROCESSOR_BOOT=y
<a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a>
<a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a># Example of values to be used when multi image is enabled
<a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a># Notice that the OS layer and update agent must be aware
<a id="__codelineno-45-15" name="__codelineno-45-15" href="#__codelineno-45-15"></a># of these regions
<a id="__codelineno-45-16" name="__codelineno-45-16" href="#__codelineno-45-16"></a>CONFIG_ESP_APPLICATION_SIZE=0x50000
<a id="__codelineno-45-17" name="__codelineno-45-17" href="#__codelineno-45-17"></a>CONFIG_ESP_IMAGE0_PRIMARY_START_ADDRESS=0x10000
<a id="__codelineno-45-18" name="__codelineno-45-18" href="#__codelineno-45-18"></a>CONFIG_ESP_IMAGE0_SECONDARY_START_ADDRESS=0x60000
<a id="__codelineno-45-19" name="__codelineno-45-19" href="#__codelineno-45-19"></a>CONFIG_ESP_IMAGE1_PRIMARY_START_ADDRESS=0xB0000
<a id="__codelineno-45-20" name="__codelineno-45-20" href="#__codelineno-45-20"></a>CONFIG_ESP_IMAGE1_SECONDARY_START_ADDRESS=0x100000
<a id="__codelineno-45-21" name="__codelineno-45-21" href="#__codelineno-45-21"></a>CONFIG_ESP_SCRATCH_OFFSET=0x150000
<a id="__codelineno-45-22" name="__codelineno-45-22" href="#__codelineno-45-22"></a>CONFIG_ESP_SCRATCH_SIZE=0x40000
</code></pre></div>
<h3 id="image-version-dependency"><a href="#image-version-dependency">Image version dependency</a></h3>
<p>MCUboot allows version dependency check between the images when updating them. As <code>imgtool.py</code>
allows a version assigment when signing an image, it is also possible to add the version
dependency constraint:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>imgtool.py<span class="w"> </span>sign<span class="w"> </span>--align<span class="w"> </span><span class="m">4</span><span class="w"> </span>-v<span class="w"> </span>&lt;VERSION&gt;<span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;(&lt;IMAGE_INDEX&gt;, &lt;VERSION_DEPENDENCY&gt;)&quot;</span><span class="w"> </span>-H<span class="w"> </span><span class="m">32</span><span class="w"> </span>--pad-header<span class="w"> </span>-S<span class="w"> </span>&lt;SLOT_SIZE&gt;<span class="w"> </span>&lt;BIN_IN&gt;<span class="w"> </span>&lt;SIGNED_BIN&gt;
</code></pre></div>
<ul>
<li><code>&lt;VERSION&gt;</code> defines the version of the image being signed.</li>
<li><code>"(&lt;IMAGE_INDEX&gt;, &lt;VERSION_DEPENDENCY&gt;)"</code> defines the minimum version and from which image is
  needed to satisfy the dependency.</li>
</ul>
<hr />
<p>Example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>imgtool.py<span class="w"> </span>sign<span class="w"> </span>--align<span class="w"> </span><span class="m">4</span><span class="w"> </span>-v<span class="w"> </span><span class="m">1</span>.0.0<span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;(1, 0.0.1+0)&quot;</span><span class="w"> </span>-H<span class="w"> </span><span class="m">32</span><span class="w"> </span>--pad-header<span class="w"> </span>-S<span class="w"> </span>0x100000<span class="w"> </span>image0.bin<span class="w"> </span>image0-signed.bin
</code></pre></div>
<p>Supposing that the image 0 is being signed, its version is 1.0.0 and it depends on image 1 with
version at least 0.0.1+0.</p>
<hr />
<h2 id="serial-recovery-mode"><a href="#serial-recovery-mode">Serial recovery mode</a></h2>
<p>Serial recovery mode allows management through MCUMGR (more information and how to install it:
<a href="https://github.com/apache/mynewt-mcumgr-cli">https://github.com/apache/mynewt-mcumgr-cli</a>) for communicating and uploading a firmware to the
device.</p>
<p>Configuration example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a># Enables the MCUboot Serial Recovery, that allows the use of
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a># MCUMGR to upload a firmware through the serial port
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a>CONFIG_ESP_MCUBOOT_SERIAL=y
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a># GPIO used to boot on Serial Recovery
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a>CONFIG_ESP_SERIAL_BOOT_GPIO_DETECT=32
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a># GPIO input type (0 for Pull-down, 1 for Pull-up)
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a>CONFIG_ESP_SERIAL_BOOT_GPIO_INPUT_TYPE=0
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a># GPIO signal value
<a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a>CONFIG_ESP_SERIAL_BOOT_GPIO_DETECT_VAL=1
<a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a># Delay time for identify the GPIO signal
<a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a>CONFIG_ESP_SERIAL_BOOT_DETECT_DELAY_S=5
<a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a># UART port used for serial communication
<a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a>CONFIG_ESP_SERIAL_BOOT_UART_NUM=1
<a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a># GPIO for Serial RX signal
<a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a>CONFIG_ESP_SERIAL_BOOT_GPIO_RX=25
<a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a># GPIO for Serial TX signal
<a id="__codelineno-48-17" name="__codelineno-48-17" href="#__codelineno-48-17"></a>CONFIG_ESP_SERIAL_BOOT_GPIO_TX=26
</code></pre></div>
<p>When enabled, the bootloader checks the if the GPIO <code>&lt;CONFIG_ESP_SERIAL_BOOT_GPIO_DETECT&gt;</code>
configured has the signal value <code>&lt;CONFIG_ESP_SERIAL_BOOT_GPIO_DETECT_VAL&gt;</code> for approximately
<code>&lt;CONFIG_ESP_SERIAL_BOOT_DETECT_DELAY_S&gt;</code> seconds for entering the Serial recovery mode. Example:
a button configured on GPIO 32 pressed for 5 seconds.</p>
<p>Serial mode then uses the UART port configured for communication
(<code>&lt;CONFIG_ESP_SERIAL_BOOT_UART_NUM&gt;</code>, pins <code>&lt;CONFIG_ESP_SERIAL_BOOT_GPIO_RX&gt;</code>,
<code>&lt;CONFIG_ESP_SERIAL_BOOT_GPIO_RX&gt;</code>).</p>
<h3 id="serial-recovery-through-usb-jtag-serial-port"><a href="#serial-recovery-through-usb-jtag-serial-port">Serial Recovery through USB JTAG Serial port</a></h3>
<p>Some chips, like ESP32-C3 and ESP32-S3 have an integrated USB JTAG Serial Controller that
implements a serial port (CDC) that can also be used for handling MCUboot Serial Recovery.
More information about the USB pins and hardware configuration:</p>
<ul>
<li>ESP32-C3: <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32c3/api-guides/usb-serial-jtag-console.html">https://docs.espressif.com/projects/esp-idf/en/latest/esp32c3/api-guides/usb-serial-jtag-console.html</a></li>
<li>ESP32-S3: <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32s3/api-guides/usb-serial-jtag-console.html">https://docs.espressif.com/projects/esp-idf/en/latest/esp32s3/api-guides/usb-serial-jtag-console.html</a></li>
<li>ESP32-C6: <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32c6/api-guides/usb-serial-jtag-console.html">https://docs.espressif.com/projects/esp-idf/en/latest/esp32c6/api-guides/usb-serial-jtag-console.html</a></li>
<li>ESP32-H2: <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32h2/api-guides/usb-serial-jtag-console.html">https://docs.espressif.com/projects/esp-idf/en/latest/esp32h2/api-guides/usb-serial-jtag-console.html</a></li>
</ul>
<p>Configuration example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a># Use Serial through USB JTAG Serial port for Serial Recovery
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>CONFIG_ESP_MCUBOOT_SERIAL_USB_SERIAL_JTAG=y
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a># Use sector erasing (recommended) instead of entire image size
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a># erasing when uploading through Serial Recovery
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a>CONFIG_ESP_MCUBOOT_ERASE_PROGRESSIVELY=y
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a># GPIO used to boot on Serial Recovery
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a>CONFIG_ESP_SERIAL_BOOT_GPIO_DETECT=5
<a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a># GPIO input type (0 for Pull-down, 1 for Pull-up)
<a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a>CONFIG_ESP_SERIAL_BOOT_GPIO_INPUT_TYPE=0
<a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a># GPIO signal value
<a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a>CONFIG_ESP_SERIAL_BOOT_GPIO_DETECT_VAL=1
<a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a># Delay time for identify the GPIO signal
<a id="__codelineno-49-13" name="__codelineno-49-13" href="#__codelineno-49-13"></a>CONFIG_ESP_SERIAL_BOOT_DETECT_DELAY_S=5
</code></pre></div>
<hr />
<p><img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> <strong><em>ATTENTION</em></strong></p>
<p><em>When working with Flash Encryption enabled, <code>CONFIG_ESP_MCUBOOT_ERASE_PROGRESSIVELY</code> must be
<strong>disabled</strong>, although it is recommended for common Serial Recovery usage</em></p>
<hr />
<h3 id="mcumgr-image-upload-example"><a href="#mcumgr-image-upload-example">MCUMGR image upload example</a></h3>
<p>After entering the Serial recovery mode on the device, MCUMGR can be used as following:</p>
<p>Configure the connection:
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>mcumgr<span class="w"> </span>conn<span class="w"> </span>add<span class="w"> </span>esp<span class="w"> </span><span class="nv">type</span><span class="o">=</span><span class="s2">&quot;serial&quot;</span><span class="w"> </span><span class="nv">connstring</span><span class="o">=</span><span class="s2">&quot;dev=&lt;PORT&gt;,baud=115200,mtu=256&quot;</span>
</code></pre></div></p>
<p>Upload the image (the process may take some time):
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>mcumgr<span class="w"> </span>-c<span class="w"> </span>esp<span class="w"> </span>image<span class="w"> </span>upload<span class="w"> </span>&lt;IMAGE_BIN&gt;
</code></pre></div></p>
<p>Reset the device:
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a>mcumgr<span class="w"> </span>-c<span class="w"> </span>esp<span class="w"> </span>reset
</code></pre></div></p>
<hr />
<p><img alt="⚠" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> <strong><em>ATTENTION</em></strong></p>
<p><em>Serial recovery mode uploads the image to the PRIMARY_SLOT, therefore if the upload process gets
interrupted the image may be corrupted and unable to boot</em></p>
<hr />
<h2 id="memory-map-organization-for-os-compatibility"><a href="#memory-map-organization-for-os-compatibility">Memory map organization for OS compatibility</a></h2>
<p>When adding support for this MCUboot port to an OS or even customizing an already supported
application memory layout, it is mandatory for the OS linker script to avoid overlaping on
<code>iram_loader_seg</code> and <code>dram_seg</code> bootloader RAM regions. Although part of the RAM becomes initially
unavailable, it is reclaimable by the OS after boot as heap.</p>
<p>Therefore, the application must be designed aware of the bootloader memory usage.</p>
<hr />
<p><strong><em>Note</em></strong></p>
<p><em>Mostly of the Espressif chips have a separation on the address space for the same physical memory
ammount: IRAM (accessed by the instruction bus) and DRAM (accessed by the data bus), which means
that they need to be accessed by different addresses ranges depending on type, but refer to the
same region. More information on the
<a href="https://www.espressif.com/en/support/documents/technical-documents?keys=&amp;field_download_document_type_tid%5B%5D=963">Espressif TRMs</a>.</em></p>
<hr />
<p>The following diagrams illustrate a memory organization from the bootloader point of view (notice
that the addresses and sizes may vary depending on the chip), they reflect the linker script
<code>boot/espressif/port/&lt;TARGET&gt;/ld/bootloader.ld</code>:</p>
<h3 id="esp32">ESP32</h3>
<h4 id="esp32-standard">ESP32 standard</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a>  SRAM0
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a> *  +--------+--------------+------+ 0x40070000 / --------- - SRAM0 START
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a> *  |        ^                    |
<a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a> *  |        | PRO CPU Cache      |  *NOT CLAIMABLE BY OS RAM
<a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a> *  |        v                    |
<a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a> *  +--------+--------------+------+ 0x40078000 / ----------
<a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a> *  |        ^                    |
<a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a> *  |        |                    |  *NOT CLAIMABLE BY OS RAM
<a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a> *  |        | iram_loader_seg    |  *Region usable as iram_loader_seg during boot
<a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a> *  |        | (APP CPU Cache)    |   as APP CPU is not initialized yet
<a id="__codelineno-53-12" name="__codelineno-53-12" href="#__codelineno-53-12"></a> *  |        |                    |
<a id="__codelineno-53-13" name="__codelineno-53-13" href="#__codelineno-53-13"></a> *  |        v                    |
<a id="__codelineno-53-14" name="__codelineno-53-14" href="#__codelineno-53-14"></a> *  +--------+--------------+------+ 0x40080000 / ----------
<a id="__codelineno-53-15" name="__codelineno-53-15" href="#__codelineno-53-15"></a> *  |        ^                    |
<a id="__codelineno-53-16" name="__codelineno-53-16" href="#__codelineno-53-16"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-53-17" name="__codelineno-53-17" href="#__codelineno-53-17"></a> *  |        v                    |
<a id="__codelineno-53-18" name="__codelineno-53-18" href="#__codelineno-53-18"></a> *  +------------------------------+ 0x40090000 / ----------
<a id="__codelineno-53-19" name="__codelineno-53-19" href="#__codelineno-53-19"></a> *  |        ^                    |
<a id="__codelineno-53-20" name="__codelineno-53-20" href="#__codelineno-53-20"></a> *  |        | iram_seg           |  *CLAIMABLE BY OS RAM
<a id="__codelineno-53-21" name="__codelineno-53-21" href="#__codelineno-53-21"></a> *  |        |                    |
<a id="__codelineno-53-22" name="__codelineno-53-22" href="#__codelineno-53-22"></a> *  |        v                    |
<a id="__codelineno-53-23" name="__codelineno-53-23" href="#__codelineno-53-23"></a> *  +--------+--------------+------+ 0x40099000 / ----------
<a id="__codelineno-53-24" name="__codelineno-53-24" href="#__codelineno-53-24"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-53-25" name="__codelineno-53-25" href="#__codelineno-53-25"></a> *  +------------------------------+ 0x4009FFFF / ---------- - SRAM0 END
<a id="__codelineno-53-26" name="__codelineno-53-26" href="#__codelineno-53-26"></a>
<a id="__codelineno-53-27" name="__codelineno-53-27" href="#__codelineno-53-27"></a>  SRAM1
<a id="__codelineno-53-28" name="__codelineno-53-28" href="#__codelineno-53-28"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-53-29" name="__codelineno-53-29" href="#__codelineno-53-29"></a> *  +------------------------------+ 0x400A0000 / 0x3FFFFFFF - SRAM1 START
<a id="__codelineno-53-30" name="__codelineno-53-30" href="#__codelineno-53-30"></a> *  |        ^                    |
<a id="__codelineno-53-31" name="__codelineno-53-31" href="#__codelineno-53-31"></a> *  |        |                    |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-53-32" name="__codelineno-53-32" href="#__codelineno-53-32"></a> *  |        | dram_seg           |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-53-33" name="__codelineno-53-33" href="#__codelineno-53-33"></a> *  |        v                    |
<a id="__codelineno-53-34" name="__codelineno-53-34" href="#__codelineno-53-34"></a> *  +--------+--------------+------+ 0x400AB900 / 0x3FFF4700
<a id="__codelineno-53-35" name="__codelineno-53-35" href="#__codelineno-53-35"></a> *  |        ^                    |
<a id="__codelineno-53-36" name="__codelineno-53-36" href="#__codelineno-53-36"></a> *  |        |                    |
<a id="__codelineno-53-37" name="__codelineno-53-37" href="#__codelineno-53-37"></a> *  |        |                    |
<a id="__codelineno-53-38" name="__codelineno-53-38" href="#__codelineno-53-38"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-53-39" name="__codelineno-53-39" href="#__codelineno-53-39"></a> *  |        |                    |
<a id="__codelineno-53-40" name="__codelineno-53-40" href="#__codelineno-53-40"></a> *  |        |                    |
<a id="__codelineno-53-41" name="__codelineno-53-41" href="#__codelineno-53-41"></a> *  |        v                    |
<a id="__codelineno-53-42" name="__codelineno-53-42" href="#__codelineno-53-42"></a> *  +--------+--------------+------+ 0x400BFFFF / 0x3FFE0000 - SRAM1 END
<a id="__codelineno-53-43" name="__codelineno-53-43" href="#__codelineno-53-43"></a> Note: On ESP32 the SRAM1 addresses are accessed in reverse order comparing Instruction
<a id="__codelineno-53-44" name="__codelineno-53-44" href="#__codelineno-53-44"></a> bus (IRAM) and Data bus (DRAM), but refer to the same location. See the TRM for more
<a id="__codelineno-53-45" name="__codelineno-53-45" href="#__codelineno-53-45"></a> information.
<a id="__codelineno-53-46" name="__codelineno-53-46" href="#__codelineno-53-46"></a>
<a id="__codelineno-53-47" name="__codelineno-53-47" href="#__codelineno-53-47"></a>  SRAM2
<a id="__codelineno-53-48" name="__codelineno-53-48" href="#__codelineno-53-48"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-53-49" name="__codelineno-53-49" href="#__codelineno-53-49"></a> *  +--------+--------------+------+ ---------- / 0x3FFAE000 - SRAM2 START
<a id="__codelineno-53-50" name="__codelineno-53-50" href="#__codelineno-53-50"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-53-51" name="__codelineno-53-51" href="#__codelineno-53-51"></a> *  +--------+--------------+------+ ---------- / 0x3FFDFFFF - SRAM2 END
</code></pre></div>
<h4 id="esp32-multi-processor-boot">ESP32 Multi Processor Boot</h4>
<p>This is the linker script mapping when the <code>CONFIG_ESP_MULTI_PROCESSOR_BOOT</code> is enabled
(<a href="#multi-boot">Multi boot</a>) since APP CPU Cache region cannot be used for <code>iram_loader_seg</code> region
as there would be conflict when the bootloader starts the APP CPU before jump to the main
application.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a>  SRAM0
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a> *  +--------+--------------+------+ 0x40070000 / --------- - SRAM0 START
<a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a> *  |        ^                    |
<a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a> *  |        |                    |
<a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a> *  |        | Cache              |  *Used by PRO CPU and APP CPU as Cache
<a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a> *  |        |                    |
<a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a> *  |        v                    |
<a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a> *  +--------+--------------+------+ 0x40080000 / ----------
<a id="__codelineno-54-10" name="__codelineno-54-10" href="#__codelineno-54-10"></a> *  |        ^                    |
<a id="__codelineno-54-11" name="__codelineno-54-11" href="#__codelineno-54-11"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-54-12" name="__codelineno-54-12" href="#__codelineno-54-12"></a> *  |        v                    |
<a id="__codelineno-54-13" name="__codelineno-54-13" href="#__codelineno-54-13"></a> *  +------------------------------+ 0x40090000 / ----------
<a id="__codelineno-54-14" name="__codelineno-54-14" href="#__codelineno-54-14"></a> *  |        ^                    |
<a id="__codelineno-54-15" name="__codelineno-54-15" href="#__codelineno-54-15"></a> *  |        | iram_seg           |  *CLAIMABLE BY OS RAM
<a id="__codelineno-54-16" name="__codelineno-54-16" href="#__codelineno-54-16"></a> *  |        |                    |
<a id="__codelineno-54-17" name="__codelineno-54-17" href="#__codelineno-54-17"></a> *  |        v                    |
<a id="__codelineno-54-18" name="__codelineno-54-18" href="#__codelineno-54-18"></a> *  +--------+--------------+------+ 0x40099000 / ----------
<a id="__codelineno-54-19" name="__codelineno-54-19" href="#__codelineno-54-19"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-54-20" name="__codelineno-54-20" href="#__codelineno-54-20"></a> *  +------------------------------+ 0x4009FFFF / ---------- - SRAM0 END
<a id="__codelineno-54-21" name="__codelineno-54-21" href="#__codelineno-54-21"></a>
<a id="__codelineno-54-22" name="__codelineno-54-22" href="#__codelineno-54-22"></a>  SRAM1
<a id="__codelineno-54-23" name="__codelineno-54-23" href="#__codelineno-54-23"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-54-24" name="__codelineno-54-24" href="#__codelineno-54-24"></a> *  +------------------------------+ 0x400A0000 / 0x3FFFFFFF - SRAM1 START
<a id="__codelineno-54-25" name="__codelineno-54-25" href="#__codelineno-54-25"></a> *  |        ^                    |
<a id="__codelineno-54-26" name="__codelineno-54-26" href="#__codelineno-54-26"></a> *  |        |                    |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-54-27" name="__codelineno-54-27" href="#__codelineno-54-27"></a> *  |        | dram_seg           |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-54-28" name="__codelineno-54-28" href="#__codelineno-54-28"></a> *  |        v                    |
<a id="__codelineno-54-29" name="__codelineno-54-29" href="#__codelineno-54-29"></a> *  +--------+--------------+------+ 0x400AB900 / 0x3FFF4700
<a id="__codelineno-54-30" name="__codelineno-54-30" href="#__codelineno-54-30"></a> *  |        ^                    |
<a id="__codelineno-54-31" name="__codelineno-54-31" href="#__codelineno-54-31"></a> *  |        |                    |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-54-32" name="__codelineno-54-32" href="#__codelineno-54-32"></a> *  |        | iram_loader_seg    |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-54-33" name="__codelineno-54-33" href="#__codelineno-54-33"></a> *  |        |                    |
<a id="__codelineno-54-34" name="__codelineno-54-34" href="#__codelineno-54-34"></a> *  |        v                    |
<a id="__codelineno-54-35" name="__codelineno-54-35" href="#__codelineno-54-35"></a> *  +------------------------------+ 0x400B1E00 / 0x3FFEE200
<a id="__codelineno-54-36" name="__codelineno-54-36" href="#__codelineno-54-36"></a> *  |        ^                    |
<a id="__codelineno-54-37" name="__codelineno-54-37" href="#__codelineno-54-37"></a> *  |        |                    |
<a id="__codelineno-54-38" name="__codelineno-54-38" href="#__codelineno-54-38"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-54-39" name="__codelineno-54-39" href="#__codelineno-54-39"></a> *  |        |                    |
<a id="__codelineno-54-40" name="__codelineno-54-40" href="#__codelineno-54-40"></a> *  |        v                    |
<a id="__codelineno-54-41" name="__codelineno-54-41" href="#__codelineno-54-41"></a> *  +--------+--------------+------+ 0x400BFFFF / 0x3FFE0000 - SRAM1 END
<a id="__codelineno-54-42" name="__codelineno-54-42" href="#__codelineno-54-42"></a> Note: On ESP32 the SRAM1 addresses are accessed in reverse order comparing Instruction
<a id="__codelineno-54-43" name="__codelineno-54-43" href="#__codelineno-54-43"></a> bus (IRAM) and Data bus (DRAM), but refer to the same location. See the TRM for more
<a id="__codelineno-54-44" name="__codelineno-54-44" href="#__codelineno-54-44"></a> information.
<a id="__codelineno-54-45" name="__codelineno-54-45" href="#__codelineno-54-45"></a>
<a id="__codelineno-54-46" name="__codelineno-54-46" href="#__codelineno-54-46"></a>  SRAM2
<a id="__codelineno-54-47" name="__codelineno-54-47" href="#__codelineno-54-47"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-54-48" name="__codelineno-54-48" href="#__codelineno-54-48"></a> *  +--------+--------------+------+ ---------- / 0x3FFAE000 - SRAM2 START
<a id="__codelineno-54-49" name="__codelineno-54-49" href="#__codelineno-54-49"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-54-50" name="__codelineno-54-50" href="#__codelineno-54-50"></a> *  +--------+--------------+------+ ---------- / 0x3FFDFFFF - SRAM2 END
</code></pre></div>
<h3 id="esp32-s2">ESP32-S2</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a>  SRAM0
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a> *  +--------+--------------+------+ 0x40020000 / 0x3FFB0000 - SRAM0 START
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a> *  +--------+--------------+------+ 0x40027FFF / 0x3FFB7FFF - SRAM0 END
<a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a>
<a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a>  SRAM1
<a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a> *  +--------+--------------+------+ 0x40028000 / 0x3FFB8000 - SRAM1 START
<a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a> *  |        ^                    |
<a id="__codelineno-55-11" name="__codelineno-55-11" href="#__codelineno-55-11"></a> *  |        |                    |
<a id="__codelineno-55-12" name="__codelineno-55-12" href="#__codelineno-55-12"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-55-13" name="__codelineno-55-13" href="#__codelineno-55-13"></a> *  |        |                    |
<a id="__codelineno-55-14" name="__codelineno-55-14" href="#__codelineno-55-14"></a> *  |        v                    |
<a id="__codelineno-55-15" name="__codelineno-55-15" href="#__codelineno-55-15"></a> *  +--------+--------------+------+ 0x40047000 / 0x3FFD7000
<a id="__codelineno-55-16" name="__codelineno-55-16" href="#__codelineno-55-16"></a> *  |        ^                    |
<a id="__codelineno-55-17" name="__codelineno-55-17" href="#__codelineno-55-17"></a> *  |        |                    |
<a id="__codelineno-55-18" name="__codelineno-55-18" href="#__codelineno-55-18"></a> *  |        |                    |
<a id="__codelineno-55-19" name="__codelineno-55-19" href="#__codelineno-55-19"></a> *  |        | iram_seg           |  *CLAIMABLE BY OS RAM
<a id="__codelineno-55-20" name="__codelineno-55-20" href="#__codelineno-55-20"></a> *  |        |                    |
<a id="__codelineno-55-21" name="__codelineno-55-21" href="#__codelineno-55-21"></a> *  |        |                    |
<a id="__codelineno-55-22" name="__codelineno-55-22" href="#__codelineno-55-22"></a> *  |        v                    |
<a id="__codelineno-55-23" name="__codelineno-55-23" href="#__codelineno-55-23"></a> *  +------------------------------+ 0x40050000 / 0x3FFE0000
<a id="__codelineno-55-24" name="__codelineno-55-24" href="#__codelineno-55-24"></a> *  |        ^                    |
<a id="__codelineno-55-25" name="__codelineno-55-25" href="#__codelineno-55-25"></a> *  |        |                    |
<a id="__codelineno-55-26" name="__codelineno-55-26" href="#__codelineno-55-26"></a> *  |        |                    |
<a id="__codelineno-55-27" name="__codelineno-55-27" href="#__codelineno-55-27"></a> *  |        | iram_loader_seg    |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-55-28" name="__codelineno-55-28" href="#__codelineno-55-28"></a> *  |        |                    |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-55-29" name="__codelineno-55-29" href="#__codelineno-55-29"></a> *  |        |                    |
<a id="__codelineno-55-30" name="__codelineno-55-30" href="#__codelineno-55-30"></a> *  |        v                    |
<a id="__codelineno-55-31" name="__codelineno-55-31" href="#__codelineno-55-31"></a> *  +------------------------------+ 0x40056000 / 0x3FFE6000
<a id="__codelineno-55-32" name="__codelineno-55-32" href="#__codelineno-55-32"></a> *  |        ^                    |
<a id="__codelineno-55-33" name="__codelineno-55-33" href="#__codelineno-55-33"></a> *  |        |                    |
<a id="__codelineno-55-34" name="__codelineno-55-34" href="#__codelineno-55-34"></a> *  |        | dram_seg           |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-55-35" name="__codelineno-55-35" href="#__codelineno-55-35"></a> *  |        |                    |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-55-36" name="__codelineno-55-36" href="#__codelineno-55-36"></a> *  |        v                    |
<a id="__codelineno-55-37" name="__codelineno-55-37" href="#__codelineno-55-37"></a> *  +--------+--------------+------+ 0x4006FFFF / 0x3FFFFFFF - SRAM1 END
</code></pre></div>
<h3 id="esp32-s3">ESP32-S3</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a>  SRAM0
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a> *  +--------+--------------+------+ 0x40370000 / ---------- - SRAM0 START
<a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a> *  +--------+--------------+------+ 0x40377FFF / ---------- - SRAM0 END
<a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a>
<a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a>  SRAM1
<a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a> *  +--------+--------------+------+ 0x40378000 / 0x3FC88000 - SRAM1 START
<a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a> *  |        ^                    |
<a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a> *  |        |                    |
<a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a> *  |        |                    |
<a id="__codelineno-56-14" name="__codelineno-56-14" href="#__codelineno-56-14"></a> *  |        v                    |
<a id="__codelineno-56-15" name="__codelineno-56-15" href="#__codelineno-56-15"></a> *  +--------+--------------+------+ 0x403B0000 / 0x3FCC0000
<a id="__codelineno-56-16" name="__codelineno-56-16" href="#__codelineno-56-16"></a> *  |        ^                    |
<a id="__codelineno-56-17" name="__codelineno-56-17" href="#__codelineno-56-17"></a> *  |        |                    |
<a id="__codelineno-56-18" name="__codelineno-56-18" href="#__codelineno-56-18"></a> *  |        |                    |
<a id="__codelineno-56-19" name="__codelineno-56-19" href="#__codelineno-56-19"></a> *  |        | iram_seg           |  *CLAIMABLE BY OS RAM
<a id="__codelineno-56-20" name="__codelineno-56-20" href="#__codelineno-56-20"></a> *  |        |                    |
<a id="__codelineno-56-21" name="__codelineno-56-21" href="#__codelineno-56-21"></a> *  |        |                    |
<a id="__codelineno-56-22" name="__codelineno-56-22" href="#__codelineno-56-22"></a> *  |        v                    |
<a id="__codelineno-56-23" name="__codelineno-56-23" href="#__codelineno-56-23"></a> *  +------------------------------+ 0x403BA000 / 0x3FCCA000
<a id="__codelineno-56-24" name="__codelineno-56-24" href="#__codelineno-56-24"></a> *  |        ^                    |
<a id="__codelineno-56-25" name="__codelineno-56-25" href="#__codelineno-56-25"></a> *  |        |                    |
<a id="__codelineno-56-26" name="__codelineno-56-26" href="#__codelineno-56-26"></a> *  |        |                    |
<a id="__codelineno-56-27" name="__codelineno-56-27" href="#__codelineno-56-27"></a> *  |        | iram_loader_seg    |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-56-28" name="__codelineno-56-28" href="#__codelineno-56-28"></a> *  |        |                    |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-56-29" name="__codelineno-56-29" href="#__codelineno-56-29"></a> *  |        |                    |
<a id="__codelineno-56-30" name="__codelineno-56-30" href="#__codelineno-56-30"></a> *  |        v                    |
<a id="__codelineno-56-31" name="__codelineno-56-31" href="#__codelineno-56-31"></a> *  +------------------------------+ 0x403C0000 / 0x3FCD0000
<a id="__codelineno-56-32" name="__codelineno-56-32" href="#__codelineno-56-32"></a> *  |        ^                    |
<a id="__codelineno-56-33" name="__codelineno-56-33" href="#__codelineno-56-33"></a> *  |        |                    |
<a id="__codelineno-56-34" name="__codelineno-56-34" href="#__codelineno-56-34"></a> *  |        | dram_seg           |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-56-35" name="__codelineno-56-35" href="#__codelineno-56-35"></a> *  |        |                    |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-56-36" name="__codelineno-56-36" href="#__codelineno-56-36"></a> *  |        v                    |
<a id="__codelineno-56-37" name="__codelineno-56-37" href="#__codelineno-56-37"></a> *  +--------+--------------+------+ 0x403DFFFF / 0x3FCEFFFF - SRAM1 END
<a id="__codelineno-56-38" name="__codelineno-56-38" href="#__codelineno-56-38"></a>
<a id="__codelineno-56-39" name="__codelineno-56-39" href="#__codelineno-56-39"></a>  SRAM2
<a id="__codelineno-56-40" name="__codelineno-56-40" href="#__codelineno-56-40"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-56-41" name="__codelineno-56-41" href="#__codelineno-56-41"></a> *  +--------+--------------+------+ ---------- / 0x3FCF0000 - SRAM2 START
<a id="__codelineno-56-42" name="__codelineno-56-42" href="#__codelineno-56-42"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-56-43" name="__codelineno-56-43" href="#__codelineno-56-43"></a> *  +--------+--------------+------+ ---------- / 0x3FCFFFFF - SRAM2 END
</code></pre></div>
<h3 id="esp32-c2">ESP32-C2</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a>  SRAM0
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a> *  +--------+--------------+------+ 0x4037C000 / ---------- - SRAM0 START
<a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a> *  +--------+--------------+------+ 0x4037FFFF / ---------- - SRAM0 END
<a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a>
<a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a>  SRAM1
<a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a> *  +--------+--------------+------+ 0x40380000 / 0x3FCA0000 - SRAM1 START
<a id="__codelineno-57-10" name="__codelineno-57-10" href="#__codelineno-57-10"></a> *  |        ^                    |
<a id="__codelineno-57-11" name="__codelineno-57-11" href="#__codelineno-57-11"></a> *  |        |                    |
<a id="__codelineno-57-12" name="__codelineno-57-12" href="#__codelineno-57-12"></a> *  |        |                    |
<a id="__codelineno-57-13" name="__codelineno-57-13" href="#__codelineno-57-13"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-57-14" name="__codelineno-57-14" href="#__codelineno-57-14"></a> *  |        |                    |
<a id="__codelineno-57-15" name="__codelineno-57-15" href="#__codelineno-57-15"></a> *  |        |                    |
<a id="__codelineno-57-16" name="__codelineno-57-16" href="#__codelineno-57-16"></a> *  |        v                    |
<a id="__codelineno-57-17" name="__codelineno-57-17" href="#__codelineno-57-17"></a> *  +--------+--------------+------+ 0x403A1370 / 0x3FCC1370
<a id="__codelineno-57-18" name="__codelineno-57-18" href="#__codelineno-57-18"></a> *  |        ^                    |
<a id="__codelineno-57-19" name="__codelineno-57-19" href="#__codelineno-57-19"></a> *  |        |                    |
<a id="__codelineno-57-20" name="__codelineno-57-20" href="#__codelineno-57-20"></a> *  |        |                    |
<a id="__codelineno-57-21" name="__codelineno-57-21" href="#__codelineno-57-21"></a> *  |        | iram_seg           |  *CLAIMABLE BY OS RAM
<a id="__codelineno-57-22" name="__codelineno-57-22" href="#__codelineno-57-22"></a> *  |        |                    |
<a id="__codelineno-57-23" name="__codelineno-57-23" href="#__codelineno-57-23"></a> *  |        |                    |
<a id="__codelineno-57-24" name="__codelineno-57-24" href="#__codelineno-57-24"></a> *  |        v                    |
<a id="__codelineno-57-25" name="__codelineno-57-25" href="#__codelineno-57-25"></a> *  +------------------------------+ 0x403A9B70 / 0x3FCC9B70
<a id="__codelineno-57-26" name="__codelineno-57-26" href="#__codelineno-57-26"></a> *  |        ^                    |
<a id="__codelineno-57-27" name="__codelineno-57-27" href="#__codelineno-57-27"></a> *  |        |                    |
<a id="__codelineno-57-28" name="__codelineno-57-28" href="#__codelineno-57-28"></a> *  |        |                    |
<a id="__codelineno-57-29" name="__codelineno-57-29" href="#__codelineno-57-29"></a> *  |        | iram_loader_seg    |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-57-30" name="__codelineno-57-30" href="#__codelineno-57-30"></a> *  |        |                    |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-57-31" name="__codelineno-57-31" href="#__codelineno-57-31"></a> *  |        |                    |
<a id="__codelineno-57-32" name="__codelineno-57-32" href="#__codelineno-57-32"></a> *  |        v                    |
<a id="__codelineno-57-33" name="__codelineno-57-33" href="#__codelineno-57-33"></a> *  +------------------------------+ 0x403B0B70 / 0x3FCD0B70
<a id="__codelineno-57-34" name="__codelineno-57-34" href="#__codelineno-57-34"></a> *  |        ^                    |
<a id="__codelineno-57-35" name="__codelineno-57-35" href="#__codelineno-57-35"></a> *  |        |                    |
<a id="__codelineno-57-36" name="__codelineno-57-36" href="#__codelineno-57-36"></a> *  |        | dram_seg           |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-57-37" name="__codelineno-57-37" href="#__codelineno-57-37"></a> *  |        |                    |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-57-38" name="__codelineno-57-38" href="#__codelineno-57-38"></a> *  |        v                    |
<a id="__codelineno-57-39" name="__codelineno-57-39" href="#__codelineno-57-39"></a> *  +--------+--------------+------+ 0x403BFFFF / 0x3FCDFFFF - SRAM1 END
</code></pre></div>
<h3 id="esp32-c3">ESP32-C3</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a>  SRAM0
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a> *  +--------+--------------+------+ 0x4037C000 / ---------- - SRAM0 START
<a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a> *  +--------+--------------+------+ 0x4037FFFF / ---------- - SRAM0 END
<a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a>
<a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a>  SRAM1
<a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-58-9" name="__codelineno-58-9" href="#__codelineno-58-9"></a> *  +--------+--------------+------+ 0x40380000 / 0x3FC80000 - SRAM1 START
<a id="__codelineno-58-10" name="__codelineno-58-10" href="#__codelineno-58-10"></a> *  |        ^                    |
<a id="__codelineno-58-11" name="__codelineno-58-11" href="#__codelineno-58-11"></a> *  |        |                    |
<a id="__codelineno-58-12" name="__codelineno-58-12" href="#__codelineno-58-12"></a> *  |        |                    |
<a id="__codelineno-58-13" name="__codelineno-58-13" href="#__codelineno-58-13"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-58-14" name="__codelineno-58-14" href="#__codelineno-58-14"></a> *  |        |                    |
<a id="__codelineno-58-15" name="__codelineno-58-15" href="#__codelineno-58-15"></a> *  |        |                    |
<a id="__codelineno-58-16" name="__codelineno-58-16" href="#__codelineno-58-16"></a> *  |        v                    |
<a id="__codelineno-58-17" name="__codelineno-58-17" href="#__codelineno-58-17"></a> *  +--------+--------------+------+ 0x403C7000 / 0x3FCC7000
<a id="__codelineno-58-18" name="__codelineno-58-18" href="#__codelineno-58-18"></a> *  |        ^                    |
<a id="__codelineno-58-19" name="__codelineno-58-19" href="#__codelineno-58-19"></a> *  |        |                    |
<a id="__codelineno-58-20" name="__codelineno-58-20" href="#__codelineno-58-20"></a> *  |        |                    |
<a id="__codelineno-58-21" name="__codelineno-58-21" href="#__codelineno-58-21"></a> *  |        | iram_seg           |  *CLAIMABLE BY OS RAM
<a id="__codelineno-58-22" name="__codelineno-58-22" href="#__codelineno-58-22"></a> *  |        |                    |
<a id="__codelineno-58-23" name="__codelineno-58-23" href="#__codelineno-58-23"></a> *  |        |                    |
<a id="__codelineno-58-24" name="__codelineno-58-24" href="#__codelineno-58-24"></a> *  |        v                    |
<a id="__codelineno-58-25" name="__codelineno-58-25" href="#__codelineno-58-25"></a> *  +------------------------------+ 0x403D0000 / 0x3FCD0000
<a id="__codelineno-58-26" name="__codelineno-58-26" href="#__codelineno-58-26"></a> *  |        ^                    |
<a id="__codelineno-58-27" name="__codelineno-58-27" href="#__codelineno-58-27"></a> *  |        |                    |
<a id="__codelineno-58-28" name="__codelineno-58-28" href="#__codelineno-58-28"></a> *  |        |                    |
<a id="__codelineno-58-29" name="__codelineno-58-29" href="#__codelineno-58-29"></a> *  |        | iram_loader_seg    |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-58-30" name="__codelineno-58-30" href="#__codelineno-58-30"></a> *  |        |                    |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-58-31" name="__codelineno-58-31" href="#__codelineno-58-31"></a> *  |        |                    |
<a id="__codelineno-58-32" name="__codelineno-58-32" href="#__codelineno-58-32"></a> *  |        v                    |
<a id="__codelineno-58-33" name="__codelineno-58-33" href="#__codelineno-58-33"></a> *  +------------------------------+ 0x403D5400 / 0x3FCD5400
<a id="__codelineno-58-34" name="__codelineno-58-34" href="#__codelineno-58-34"></a> *  |        ^                    |
<a id="__codelineno-58-35" name="__codelineno-58-35" href="#__codelineno-58-35"></a> *  |        |                    |
<a id="__codelineno-58-36" name="__codelineno-58-36" href="#__codelineno-58-36"></a> *  |        | dram_seg           |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-58-37" name="__codelineno-58-37" href="#__codelineno-58-37"></a> *  |        |                    |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-58-38" name="__codelineno-58-38" href="#__codelineno-58-38"></a> *  |        v                    |
<a id="__codelineno-58-39" name="__codelineno-58-39" href="#__codelineno-58-39"></a> *  +--------+--------------+------+ 0x403DFFFF / 0x3FCDFFFF - SRAM1 END
</code></pre></div>
<h3 id="esp32-c6">ESP32-C6</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a> *  +--------+--------------+------+ 0x40800000 / 0x40800000 - HP SRAM START
<a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a> *  |        ^                    |
<a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a> *  |        |                    |
<a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a> *  |        |                    |
<a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a> *  |        |                    |
<a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a> *  |        |                    |
<a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a> *  |        v                    |
<a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a> *  +--------+--------------+------+ 0x40860610 / 0x40860610
<a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a> *  |        ^                    |
<a id="__codelineno-59-12" name="__codelineno-59-12" href="#__codelineno-59-12"></a> *  |        |                    |
<a id="__codelineno-59-13" name="__codelineno-59-13" href="#__codelineno-59-13"></a> *  |        |                    |
<a id="__codelineno-59-14" name="__codelineno-59-14" href="#__codelineno-59-14"></a> *  |        | iram_seg           |  *CLAIMABLE BY OS RAM
<a id="__codelineno-59-15" name="__codelineno-59-15" href="#__codelineno-59-15"></a> *  |        |                    |
<a id="__codelineno-59-16" name="__codelineno-59-16" href="#__codelineno-59-16"></a> *  |        |                    |
<a id="__codelineno-59-17" name="__codelineno-59-17" href="#__codelineno-59-17"></a> *  |        v                    |
<a id="__codelineno-59-18" name="__codelineno-59-18" href="#__codelineno-59-18"></a> *  +------------------------------+ 0x40869610 / 0x40869610
<a id="__codelineno-59-19" name="__codelineno-59-19" href="#__codelineno-59-19"></a> *  |        ^                    |
<a id="__codelineno-59-20" name="__codelineno-59-20" href="#__codelineno-59-20"></a> *  |        |                    |
<a id="__codelineno-59-21" name="__codelineno-59-21" href="#__codelineno-59-21"></a> *  |        |                    |
<a id="__codelineno-59-22" name="__codelineno-59-22" href="#__codelineno-59-22"></a> *  |        | iram_loader_seg    |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-59-23" name="__codelineno-59-23" href="#__codelineno-59-23"></a> *  |        |                    |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-59-24" name="__codelineno-59-24" href="#__codelineno-59-24"></a> *  |        |                    |
<a id="__codelineno-59-25" name="__codelineno-59-25" href="#__codelineno-59-25"></a> *  |        v                    |
<a id="__codelineno-59-26" name="__codelineno-59-26" href="#__codelineno-59-26"></a> *  +------------------------------+ 0x40870610 / 0x40870610
<a id="__codelineno-59-27" name="__codelineno-59-27" href="#__codelineno-59-27"></a> *  |        ^                    |
<a id="__codelineno-59-28" name="__codelineno-59-28" href="#__codelineno-59-28"></a> *  |        |                    |
<a id="__codelineno-59-29" name="__codelineno-59-29" href="#__codelineno-59-29"></a> *  |        | dram_seg           |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-59-30" name="__codelineno-59-30" href="#__codelineno-59-30"></a> *  |        |                    |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-59-31" name="__codelineno-59-31" href="#__codelineno-59-31"></a> *  |        v                    |
<a id="__codelineno-59-32" name="__codelineno-59-32" href="#__codelineno-59-32"></a> *  +--------+--------------+------+ 0x4087FFFF / 0x4087FFFF - HP SRAM END
</code></pre></div>
<h3 id="esp32-h2">ESP32-H2</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>                                     IRAM ADDR  / DRAM ADDR
<a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a> *  +--------+--------------+------+ 0x40800000 / 0x40800000 - HP SRAM START
<a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a> *  |        ^                    |
<a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a> *  |        |                    |
<a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a> *  |        |                    |
<a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a> *  |        | FREE               |  *CLAIMABLE BY OS RAM
<a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a> *  |        |                    |
<a id="__codelineno-60-8" name="__codelineno-60-8" href="#__codelineno-60-8"></a> *  |        |                    |
<a id="__codelineno-60-9" name="__codelineno-60-9" href="#__codelineno-60-9"></a> *  |        v                    |
<a id="__codelineno-60-10" name="__codelineno-60-10" href="#__codelineno-60-10"></a> *  +--------+--------------+------+ 0x408317D0 / 0x408317D0
<a id="__codelineno-60-11" name="__codelineno-60-11" href="#__codelineno-60-11"></a> *  |        ^                    |
<a id="__codelineno-60-12" name="__codelineno-60-12" href="#__codelineno-60-12"></a> *  |        |                    |
<a id="__codelineno-60-13" name="__codelineno-60-13" href="#__codelineno-60-13"></a> *  |        |                    |
<a id="__codelineno-60-14" name="__codelineno-60-14" href="#__codelineno-60-14"></a> *  |        | iram_seg           |  *CLAIMABLE BY OS RAM
<a id="__codelineno-60-15" name="__codelineno-60-15" href="#__codelineno-60-15"></a> *  |        |                    |
<a id="__codelineno-60-16" name="__codelineno-60-16" href="#__codelineno-60-16"></a> *  |        |                    |
<a id="__codelineno-60-17" name="__codelineno-60-17" href="#__codelineno-60-17"></a> *  |        v                    |
<a id="__codelineno-60-18" name="__codelineno-60-18" href="#__codelineno-60-18"></a> *  +------------------------------+ 0x40839FD0 / 0x40839FD0
<a id="__codelineno-60-19" name="__codelineno-60-19" href="#__codelineno-60-19"></a> *  |        ^                    |
<a id="__codelineno-60-20" name="__codelineno-60-20" href="#__codelineno-60-20"></a> *  |        |                    |
<a id="__codelineno-60-21" name="__codelineno-60-21" href="#__codelineno-60-21"></a> *  |        |                    |
<a id="__codelineno-60-22" name="__codelineno-60-22" href="#__codelineno-60-22"></a> *  |        | iram_loader_seg    |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-60-23" name="__codelineno-60-23" href="#__codelineno-60-23"></a> *  |        |                    |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-60-24" name="__codelineno-60-24" href="#__codelineno-60-24"></a> *  |        |                    |
<a id="__codelineno-60-25" name="__codelineno-60-25" href="#__codelineno-60-25"></a> *  |        v                    |
<a id="__codelineno-60-26" name="__codelineno-60-26" href="#__codelineno-60-26"></a> *  +------------------------------+ 0x40840FD0 / 0x40840FD0
<a id="__codelineno-60-27" name="__codelineno-60-27" href="#__codelineno-60-27"></a> *  |        ^                    |
<a id="__codelineno-60-28" name="__codelineno-60-28" href="#__codelineno-60-28"></a> *  |        |                    |
<a id="__codelineno-60-29" name="__codelineno-60-29" href="#__codelineno-60-29"></a> *  |        | dram_seg           |  *** SHOULD NOT BE OVERLAPPED ***
<a id="__codelineno-60-30" name="__codelineno-60-30" href="#__codelineno-60-30"></a> *  |        |                    |  *** OS CAN RECLAIM IT AFTER BOOT LATER AS HEAP ***
<a id="__codelineno-60-31" name="__codelineno-60-31" href="#__codelineno-60-31"></a> *  |        v                    |
<a id="__codelineno-60-32" name="__codelineno-60-32" href="#__codelineno-60-32"></a> *  +--------+--------------+------+ 0x4084FFFF / 0x4084FFFF - HP SRAM END
</code></pre></div>









  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">&copy <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://www.owntech.org">OwnTech Foundation</a> under <a href="http://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY-SA 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p> <a href="#__consent">Change cookie settings</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/owntech-foundation" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discord.com/invite/KAM8ukUYF5" target="_blank" rel="noopener" title="discord.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:contact@owntech.org" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48H48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0L0 176z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  





<h4>Cookie Consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.top", "toc.follow", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy", "navigation.footer", "content.tooltips"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.af256bd8.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>